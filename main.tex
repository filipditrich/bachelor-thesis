%%%%% Základní nastavení pro jednostranný tisk:
%%%%% Okraje: levý 40mm, pravý 25mm, horní a dolní 25mm (ale pozor, LaTeX si sám přidává 1in)
%%%%% ---------------------------------------------------------------
\documentclass[12pt, a4paper]{report}
\usepackage{geometry}
\setlength\textwidth{145mm}
\setlength\textheight{247mm}
\setlength\oddsidemargin{15mm}
\setlength\evensidemargin{15mm}
\setlength\topmargin{0mm}
\setlength\headsep{0mm}
\setlength\headheight{0mm}
\newcommand{\openright}{\clearpage}

%%%%% Základní nastavení pro oboustranný tisk:
%%%%% ---------------------------------------------------------------
% \documentclass[12pt, a4paper, twoside, openright]{report}
% \setlength\textwidth{145mm}
% \setlength\textheight{247mm}
% \setlength\oddsidemargin{15mm}
% \setlength\evensidemargin{0mm}
% \setlength\topmargin{0mm}
% \setlength\headsep{0mm}
% \setlength\headheight{0mm}
% \let\openright=\cleardoublepage

%%%%% Nastavení kódování vstupních souborů: UTF-8
%%%%% ---------------------------------------------------------------
\usepackage[utf8]{inputenc}

%%%%% Nastavení češtiny
%%%%% ---------------------------------------------------------------
\usepackage[czech]{babel}
\ifx\uv\undefined\newcommand{\uv}[1]{,,#1``}\fi

%%%%% Další užitečné balíčky
%%%%% ----------------------------------------------------------------
\usepackage{amsmath}                %%% rozšíření pro sazbu matematiky
\usepackage{amsfonts}               %%% matematické fonty
\usepackage{amsthm}                 %%% sazba vět, definic apod.
\usepackage{bm}                     %%% tučné symboly (příkaz \bm)
\usepackage{graphicx}               %%% vkládání obrázků
\usepackage{psfrag}                 %%% dodatečná úprava popisků v postscriptových obrázcích
\usepackage{fancyvrb}               %%% vylepšené prostředí pro strojové písmo
\usepackage{natbib}                 %%% zajištuje možnost odkazovat na reference stylem AUTOR (ROK), resp. AUTOR [ČÍSLO]
\usepackage{tikz}                   %%% vkládání vektorových obrázků
\usepackage{bbding}                 %%% balíček s nejrůznějšími symboly
\usepackage{icomma}                 %%% inteligetní čárka v matematickém módu
\usepackage{dcolumn}                %%% lepší zarovnání sloupců v tabulkách
\usepackage{booktabs}               %%% lepší vodorovné linky v tabulkách
\usepackage{paralist}               %%% lepší enumerate a itemize
\usepackage{float}                  %%% lepší práce s float objekty (obrázky, tabulky, ...)
\usepackage{subcaption}             %%% umožňuje vkládat podnadpisy k obrázkům a tabulkám
\usepackage{epigraph}               %%% umožňuje vkládat citáty
\usepackage{tcolorbox}              %%% umožňuje vkládat rámečky
% TODO: color box presets
\newtcolorbox{gray-box}[1]{colback=gray!5!white,colframe=gray!50!black,title=#1}
\newcommand{\userstory}[4]{
    \begin{gray-box}{Uživatelský příběh #1 – #2}
        \textit{``#3``}
    \end{gray-box}
    #4
}
\usepackage[outputdir=dist]{minted}
\usepackage{fvextra}
\usepackage{xcolor}
% TODO: Define the colors
\definecolor{codekeyword}{rgb}{0.0,0.3,0.7}
\definecolor{codestring}{rgb}{0.4,0.4,0.8}
\definecolor{codecomment}{rgb}{0.2,0.2,0.2}
\definecolor{codejsdoc}{rgb}{0.4,0.4,0.4}
\definecolor{codelinenum}{rgb}{0.8,0.8,0.8}
% light yellow color for highlighting
%\definecolor{lightyellow}{rgb}{255, 255, 224}

% Set the minted style
\setminted{
    frame=none,
    breaklines=true,
    fontsize=\footnotesize,
    tabsize=2,
    linenos,
    numbersep=5pt,
    xleftmargin=0pt,
    baselinestretch=1.2,
    style=friendly,
%   TODO: highlihgting not working
%    highlightcolor=\color{lightyellow},
    keywordstyle=\color{codekeyword},
    stringstyle=\color{codestring},
    commentstyle=\color{codecomment}\itshape,
    morecomment=[s][\color{codejsdoc}]{/**}{*/},
    numberstyle=\footnotesize\color{codelinenum}
}

\renewcommand{\listingscaption}{Zdrojový kód}
\renewcommand{\listoflistingscaption}{Seznam zdrojových kódů}

% TODO
\usepackage{listings}

% Define formatting for the code block
\lstset{
    basicstyle=\ttfamily,
    columns=fullflexible,
    frame=single,
    breaklines=true,
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    showstringspaces=false,
    keywordstyle=\bfseries,
    commentstyle=\itshape\color{gray},
    captionpos=b
}

% TODO
\usepackage{acro}                   %%% balíček pro práci s akronymy
\DeclareAcronym{ui}{short=UI,       long=User Interface }
\DeclareAcronym{ux}{short=UX,       long=User Experience }
\DeclareAcronym{api}{short=API,     long=Application Programming Interface }
\DeclareAcronym{svg}{short=SVG,     long=Scalable Vector Graphics }
\DeclareAcronym{css}{short=CSS,     long=Cascading Style Sheets }
\DeclareAcronym{html}{short=HTML,   long=Hypertext Markup Language }
\DeclareAcronym{js}{short=JS,       long=JavaScript }
\DeclareAcronym{ts}{short=TS,       long=TypeScript }
\DeclareAcronym{json}{short=JSON,   long=JavaScript Object Notation }
\DeclareAcronym{spa}{short=SPA,     long=Single Page Application }
\DeclareAcronym{dom}{short=DOM,     long=Document Object Model }
\DeclareAcronym{mpa}{short=MPA,     long=Multi Page Application }
\DeclareAcronym{ssr}{short=SSR,     long=Server Side Rendering }
\DeclareAcronym{ssg}{short=SSG,     long=Static Site Generation }
\DeclareAcronym{seo}{short=SEO,     long=Search Engine Optimization }
\DeclareAcronym{http}{short=HTTP,   long=Hypertext Transfer Protocol }
\DeclareAcronym{url}{short=URL,     long=Uniform Resource Locator }
\DeclareAcronym{xsrf}{short=XSRF,   long=Cross-Site Request Forgery }
\DeclareAcronym{cd}{short=CD,       long=Continuous Development }
\DeclareAcronym{ws}{short=WS,       long=Websockets }

% TODO
\usepackage{indentfirst}            %%% zaveď odsazení 1. odstavce
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.75\baselineskip}
\usepackage[nottoc]{tocbibind}      %%% zajistí přidání seznamu literatury, obrázků a tabulek do obsahu
\usepackage[unicode]{hyperref}      %%% zajištuje generování hyperodkazů, bookmarků atp.
\usepackage{pdfpages}               %%% umožňuje vkládat PDF soubory do dokumentu
% TODO make fancy headers work
\usepackage{fancyhdr}               %%% umožňuje nastavit vlastní hlavičky a patičky stránky

% TODO
% Load the setspace package
\usepackage{setspace}
% Using \doublespacing in the preamble
% changes text to double line spacing
\onehalfspacing


\newcommand\foreign[1]{\emph{#1}}  %%% zvýraznění cizích slov

%%%%% Nastavení hyperodkazů
%%%%% ------------------------------------------------------------
\hypersetup{pdftitle=Webové řešení na prodej vstupenek s~rezervací míst,
    pdfauthor=Filip Ditrich
    ps2pdf,
    colorlinks=false,               %% hyperlinky budou označeny červenými rámečky, které budou neviditelné při tisku na papír
    urlcolor=blue,
    pdfstartview=FitH,
    pdfpagemode=UseOutlines,
    pdfnewwindow,
    breaklinks                      %% zajistí, aby se dlouhé hyperodkazy mohly lámat přes více řádků
}

%%%%% Nastavení nadpisů
%%%%% ------------------------------------------------------------
\usepackage{titlesec}
%\titlespacing*{\chapter}{0pt}{-10mm}{5mm}
\titleformat{\chapter}{\normalfont\huge\bfseries}{\thechapter}{1em}{}

%%%%% Obrázky
%%%%% ---------------------------------------------------------------
\newcommand{\FIGDIR}{./figures}    %%% cesta do adresáře s obrázky

%%%%% Seznam použité literatury
%%%%% ---------------------------------------------------------------
%\bibliographystyle{/Users/filipditrich/University/BC_THESIS/thesis/czplainnat}    %% Autor (rok) s českými spojkami
%\bibliographystyle{plainnat}     %% Autor (rok) s anglickými spojkami
\bibliographystyle{unsrt}        %% [číslo]
\renewcommand{\bibname}{Seznam použité literatury}

%%%%% TODO:
%% - [] fixme: obrázek SVG origin je broken
%% - [] zkontrolovat gramatiku, finální vzhled
%% - [] zrevidovat zdroje (datumy)
%% - [] sepsat dokument extended summary
%% - [x] napsat abstrakt
%% - [x] přepsat úvod logicky
%% - [x] dopsat závěr
%% - [x] přidat přílohy
%% - [x] upravit poděkování
%% - [x] přidat diagramy a lepší strukturu/dokumentaci komponent
%% - [x] dopsat kapitolu architektura řešení
%% - [x] sehnat a přidat správnou kopii zadání
%% - [x] zrevidovat a přejmenovat kapitolu specifikace

%%%%% Hlavní část dokumentu
%%%%% ------------------------------------------------------------
\begin{document}
%%% titulní strana
%    \include{pages/title} % FIXME: remove
    \include{pages/cover}
%%% kopie zadání
    \includepdf[pages={1}]{\FIGDIR/zadani-zp.pdf}
    \includepdf[pages={2}]{\FIGDIR/zadani-zp.pdf}
%%% čestné prohlášení
    \include{pages/affidavit}
%%% poděkování
    \include{pages/acknowledgements}
%%% první stránka
    \include{pages/firstpage}
%%% abstrakt
    \include{pages/abstract}
%%% obsah
    \newpage
    \pagestyle{plain}
    \tableofcontents
%%% jednotlivé kapitoly
    % kapitola - úvod
    \include{pages/chapters/uvod}
    % kapitola - identifikace klíčových částí
    \include{pages/chapters/identifikace}
    \include{pages/chapters/identifikace-mapa}
    \include{pages/chapters/identifikace-kosik}
    \include{pages/chapters/identifikace-objednavka}
    % kapitola - návrh rozhraní
    \include{pages/chapters/navrh-rozhrani}
    \include{pages/chapters/navrh-rozhrani-principy}
    \include{pages/chapters/navrh-rozhrani-psychologie}
    \include{pages/chapters/navrh-rozhrani-user-stories}
    \include{pages/chapters/navrh-rozhrani-nastroje}
    \include{pages/chapters/navrh-rozhrani-produkt}
    % kapitola - implementace
    \include{pages/chapters/implementace}
    \include{pages/chapters/implementace-uvod}
    \include{pages/chapters/implementace-technologie}
    \include{pages/chapters/implementace-architektura}
    \include{pages/chapters/implementace-seating}
    \include{pages/chapters/implementace-cart}
    \include{pages/chapters/implementace-rezervace}
    \include{pages/chapters/implementace-checkout}
    \include{pages/chapters/implementace-deployment}
    \include{pages/chapters/implementace-zaver}
    % kapitola - výzvy a problémy
    \include{pages/chapters/vyzvy-a-problemy}
    % kapitola - závěr
    \include{pages/chapters/zaver}
%%% seznam použité literatury
%%% Reference se hledají v souboru priklady_literatury.bib. Aby se
%%% vytvořil seznam literatury, je třeba ocitovat alespoň jednu
%%% referenci, zkompilovat tento soubor latexem, pak bibtexem a znovu
%%% latexem. Tím se vytvoří seznam použitých referencí
%%% (BcPrace.bbl) a vloží se do práce na místě, kde se nachází příkaz
%%% \bibliography, tedy sem.
    \begin{flushleft}
    \bibliography{/Users/filipditrich/University/BC_THESIS/thesis/main,/Users/filipditrich/University/BC_THESIS/thesis/auto}
    \end{flushleft}
%%% seznam obrázků
    \listoffigures
    \textit{Pozn.: Není li uvedeno jinak, všechny obrázky jsou autorským dílem autora práce.}
%%% seznam tabulek
    \listoftables
%%% seznam zdrojových kódů
    \listoflistings
%%% zkratky
    \include{pages/acronyms}
%%% přílohy
    \include{pages/appendix}
\end{document}
